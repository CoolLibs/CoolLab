// To learn how to write nodes, see https://coollab-art.com/Tutorials/Writing%20Nodes/Intro

INPUT $UV->SignedDistance 'Shape';
INPUT float 'Force';
INPUT bool 'Repulse out';

$Particle main($Particle particle)
{
    float force = 'Force';
    if ('Shape'(particle.position) < 0)
    {
        force *= 'Repulse out' ? -1. : 0;
    }
    particle.acceleration += $gradient(particle.position, 'Shape') * force;
    return particle;
}
