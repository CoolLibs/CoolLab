
INPUT UV->RGBA `Image`;
INPUT float `Displacement`;
INPUT Direction2D `Direction`;

RGBA main(UV uv)
{
    vec4 R = `Image`(uv + `Displacement` * `Direction` );
    vec4 G = `Image`(uv);
    vec4 B = `Image`(uv - `Displacement` * `Direction`);

    return vec4(
        R.r,
        G.g,
        B.b,
        max(max(R.a, G.a), B.a)
    );
}