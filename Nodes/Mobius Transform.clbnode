// To learn how to write nodes, see https://coollibs.github.io/lab/Writing%20Nodes/Intro

INPUT float `b`;
INPUT float `a`;
INPUT float `c`;
INPUT float `d`;

// to understand the equation : http://www.pierreaudibert.fr/explor/TransformationsMobius.pdf

UV main(UV uv)
{
    float a = `a`;
    float b = `b`;
    float c = `c`;
    float d = `d`;

    float x = (a*c*dot(uv,uv)+(a*d+b*c)*uv.x+b*d)/dot(c*uv+d,c*uv+d);
    float y =(a*d-b*c)*uv.y/dot(c*uv+d,c*uv+d);
    
    return vec2(x,y);
}
